<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reconocimiento de Voz con Animación</title>
    <style>
        #corazon {
            font-size: 48px;
            color: red;
            opacity: 0;
            transition: opacity 1s ease-in-out, color 1s ease-in-out;
        }

        #feedback {
            font-size: 18px;
            color: #333;
            margin-top: 20px;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
    </style>
</head>
<body>
    <h1>Reconocimiento de Voz con Animación</h1>
    <p>Di "te amo" y luego di "abrazos" para ver las animaciones de corazón.</p>

    <div id="corazon">❤️</div>
    <div id="feedback"></div>

    <script>
        function startRecognition() {
            const recognition = new webkitSpeechRecognition() || new SpeechRecognition();
            recognition.lang = 'es-ES'; // Configura el idioma a español

            recognition.onstart = function() {
                console.log('¡Reconocimiento de voz iniciado!');
            };

            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript.toLowerCase();
                console.log('Transcripción: ', transcript);

                if (transcript.includes('te amo')) {
                    mostrarAnimacionCorazon('red', '¡Hermoso! Ahora di "abrazos" para otra sorpresa.');
                } else if (transcript.includes('abrazos')) {
                    mostrarAnimacionCorazon('green', '¡Increíble! Has pronunciado "abrazos" correctamente.');
                }
            };

            recognition.onerror = function(event) {
                console.error('Error de reconocimiento: ', event.error);
            };

            recognition.onend = function() {
                console.log('Reconocimiento de voz finalizado.');
            };

            recognition.start();
        }

        function mostrarAnimacionCorazon(color, mensaje) {
            const corazonElement = document.getElementById('corazon');
            const feedbackElement = document.getElementById('feedback');

            corazonElement.style.color = color;
            corazonElement.style.opacity = 1;
            feedbackElement.textContent = mensaje;
            feedbackElement.style.opacity = 1;
        }

        window.addEventListener('load', () => {
            startRecognition();
        });
    </script>
</body>
</html>
